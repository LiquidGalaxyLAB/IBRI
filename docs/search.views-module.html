<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>search.views</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="https://github.com/LiquidGalaxyLAB/IBRI">IBRI</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="search-module.html">Package&nbsp;search</a> ::
        Module&nbsp;views
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module views</h1><p class="nomargin-top"><span class="codelink"><a href="search.views-pysrc.html">source&nbsp;code</a></span></p>
<p>Search views contains all the functions that are necesary to use in 
  the search application.</p>

<hr />
<div class="fields">      <p><strong>Author:</strong>
        Moises Lodeiro-Santiaog
      </p>
</div><!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="search.views-module.html#searchMap" class="summary-sig-name">searchMap</a>(<span class="summary-sig-arg">request</span>)</span><br />
      The searchMap function takes the clients list that are marked as 
      'inSearch', also takes the drone list and the configuration vars like
      WEATHER_API, KMLDir to render the gsoc.html (operator panel) Html.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="search.views-pysrc.html#searchMap">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="search.views-module.html#resumeMission" class="summary-sig-name">resumeMission</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">pk</span>)</span><br />
      Resume Mission is called when the opeartor loses the connection with 
      the main operator panel.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="search.views-pysrc.html#resumeMission">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="search.views-module.html#getTracking" class="summary-sig-name">getTracking</a>(<span class="summary-sig-arg">request</span>)</span><br />
      Get Tracking returns the drone tracking information to the operator 
      panel.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="search.views-pysrc.html#getTracking">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="search.views-module.html#setTracking" class="summary-sig-name">setTracking</a>(<span class="summary-sig-arg">request</span>)</span><br />
      Set Tracking allows to simulate a drone in combination with the 
      management command.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="search.views-pysrc.html#setTracking">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="search.views-module.html#getDroneMissionData" class="summary-sig-name">getDroneMissionData</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">droneId</span>)</span><br />
      Get Drone Mission Data is a function that is used to return to the 
      drone the mission data.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="search.views-pysrc.html#getDroneMissionData">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="search.views-module.html#setDroneTracking" class="summary-sig-name">setDroneTracking</a>(<span class="summary-sig-arg">request</span>)</span><br />
      Set Drone Tracking is the method that a drone uses to inform to the 
      server of it position sending via POST the encrypted information.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="search.views-pysrc.html#setDroneTracking">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="search.views-module.html#createRoute" class="summary-sig-name">createRoute</a>(<span class="summary-sig-arg">request</span>)</span><br />
      Create Route is one of the main methods in the software because it 
      creates the routes for each drone in the mission.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="search.views-pysrc.html#createRoute">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="UTF8Writer"></a><span class="summary-name">UTF8Writer</span> = <code title="codecs.getwriter('utf8')">codecs.getwriter('utf8')</code>
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <span title="json">json</span>,
  <span title="codecs">codecs</span>,
  <span title="sys">sys</span>,
  <span title="math.sqrt">sqrt</span>,
  <span title="django.contrib.auth.decorators.login_required">login_required</span>,
  <span title="django.http.HttpResponse">HttpResponse</span>,
  <span title="django.http.response.Http404">Http404</span>,
  <span title="django.shortcuts.render">render</span>,
  <span title="django.shortcuts.get_object_or_404">get_object_or_404</span>,
  <span title="django.views.decorators.csrf.csrf_exempt">csrf_exempt</span>,
  <span title="simplekml.Kml">Kml</span>,
  <span title="simplekml.AltitudeMode">AltitudeMode</span>,
  <span title="simplekml.GxAltitudeMode">GxAltitudeMode</span>,
  <a href="utils.aes.AESCipher-class.html" title="utils.aes.AESCipher">AESCipher</a>,
  <a href="utils.aes.JavaAESCipher-class.html" title="utils.aes.JavaAESCipher">JavaAESCipher</a>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="searchMap"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">searchMap</span>(<span class="sig-arg">request</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="search.views-pysrc.html#searchMap">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>The searchMap function takes the clients list that are marked as 
  'inSearch', also takes the drone list and the configuration vars like 
  WEATHER_API, KMLDir to render the gsoc.html (operator panel) Html.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>request</code></strong> - Request petition that is handled by Django</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Http response</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@login_required(login_url= 'login/')</code></li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        This functions requires a previous login
      </p>
      <p><strong>Precondition:</strong>
        User loged
      </p>
      <p><strong>See Also:</strong>
        django.contrib.auth.decorators.login_required
      </p>
</div></td></tr></table>
</div>
<a name="resumeMission"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">resumeMission</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">pk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="search.views-pysrc.html#resumeMission">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Resume Mission is called when the opeartor loses the connection with 
  the main operator panel. Also, to render the HTML is needed the Google 
  API identifier to load the google map.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>request</code></strong> - Request petition that is handled by Django</li>
        <li><strong class="pname"><code>pk</code></strong> (<code>int</code>) - Mission identifier. Is stablished using the public key of the 
          model</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Http response
          <p>Example:</p>
          <ul>
            <li>
              url: /admin/mission/resume/5/ to resume the mission number 5 
              (mambo!)
            </li>
          </ul></dd>
  </dl>
<div class="fields">      <p><strong>Precondition:</strong>
        User loged
      </p>
      <p><strong>See Also:</strong>
        Route
      </p>
</div></td></tr></table>
</div>
<a name="getTracking"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getTracking</span>(<span class="sig-arg">request</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="search.views-pysrc.html#getTracking">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get Tracking returns the drone tracking information to the operator 
  panel. When the HTML panel requires the drone tracking this method is 
  called.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>request</code></strong> - Request petition that is handled by Django</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Http response (JSON)</dd>
  </dl>
<div class="fields">      <p><strong>Precondition:</strong>
        User loged
      </p>
      <dl><dt>See Also:</dt>
        <dd>
          HttpResponse,
          AESCipher,
          JSON
        </dd>
      </dl>
      <p><strong>Note:</strong>
        See the source code to get more information about how this function
        works.
      </p>
</div></td></tr></table>
</div>
<a name="setTracking"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">setTracking</span>(<span class="sig-arg">request</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="search.views-pysrc.html#setTracking">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set Tracking allows to simulate a drone in combination with the 
  management command.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>request</code></strong> (Django request object) - Request petition that is handled by Django</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@csrf_exempt</code></li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>Deprecated:</strong>
        This function was used when we don't have any real drone application.
      </p>
</div></td></tr></table>
</div>
<a name="getDroneMissionData"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getDroneMissionData</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">droneId</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="search.views-pysrc.html#getDroneMissionData">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get Drone Mission Data is a function that is used to return to the 
  drone the mission data. This method don't requires a CSRF token.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>request</code></strong> (Django request object) - Request petition that is handled by Django</li>
        <li><strong class="pname"><code>droneId</code></strong> (int) - Drone identification. Each drone is linked to each route</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Http response (JSON)</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@csrf_exempt</code></li>
    </ul></dd>
  </dl>
<div class="fields">      <dl><dt>See Also:</dt>
        <dd>
          HttpResponse,
          AESCipher,
          JSON,
          csrf_extemp
        </dd>
      </dl>
</div></td></tr></table>
</div>
<a name="setDroneTracking"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">setDroneTracking</span>(<span class="sig-arg">request</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="search.views-pysrc.html#setDroneTracking">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set Drone Tracking is the method that a drone uses to inform to the 
  server of it position sending via POST the encrypted information. This 
  method don't use the CSRF token.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>request</code></strong> (Django request object) - Request petition that is handled by Django</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Http response (JSON)</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@csrf_exempt</code></li>
    </ul></dd>
  </dl>
<div class="fields">      <dl><dt>See Also:</dt>
        <dd>
          HttpResponse,
          AESCipher,
          JSON,
          csrf_extemp
        </dd>
      </dl>
</div></td></tr></table>
</div>
<a name="createRoute"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">createRoute</span>(<span class="sig-arg">request</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="search.views-pysrc.html#createRoute">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create Route is one of the main methods in the software because it 
  creates the routes for each drone in the mission. It takes the 
  POST['msg'] information. Then gets the square waypoints grid and divides 
  it in many areas as drones we have. This method is triggered when the 
  operator clicks on the play button.</p>
  <p>The areas are created and stored in the database and whe it's done we 
  create a KML file/s and stores it in the KML_DIR path under the IBRI 
  folder.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>request</code></strong> (Django request object) - Request petition that is handled by Django</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Http response (JSON)</dd>
  </dl>
<div class="fields">      <p><strong>Requires:</strong>
        utils.tsp
      </p>
      <dl><dt>See Also:</dt>
        <dd>
          HttpResponse,
          AESCipher,
          JSON,
          csrf_extemp,
          WayPoint,
          Route,
          KML,
          utils.tsp.py
        </dd>
      </dl>
      <p><strong>Note:</strong>
        If you want to see how createRoute works, click on see source code.
      </p>
</div></td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="https://github.com/LiquidGalaxyLAB/IBRI">IBRI</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1
    on Wed Aug 17 18:01:08 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
